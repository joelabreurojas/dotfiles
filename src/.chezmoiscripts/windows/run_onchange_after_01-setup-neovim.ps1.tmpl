# Config hash: {{ include "dot_config/mise/mise.toml" | sha256sum }}
{{- if stat (joinPath .chezmoi.sourceDir "dot_config/mise/mise.lock") }}
# Lockfile hash: {{ include "dot_config/mise/mise.lock" | sha256sum }}
{{- end }}

{{ template "pwsh_loggers" . }}
$ErrorActionPreference = "Stop"

Log-Working "Syncing Mise runtimes..."
& mise install -y

Log-Working "Installing Tree-sitter CLI..."
& mise exec rust -- cargo install tree-sitter-cli

Log-Working "Syncing Neovim plugins..."
& nvim --headless "+Lazy! sync" +qa

Log-Success "Neovim setup complete!"
